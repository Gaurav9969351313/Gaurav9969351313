# Angular Function vs DI-Based Interceptors: Which Approach Fits Your Application? | by M Business Solutions | JavaScript in Plain English

# Angular Function vs DI-Based Interceptors: Which Approach Fits Your Application?

## Balancing Simplicity and Scalability for HTTP Middleware

[

![M Business Solutions](https://miro.medium.com/v2/resize:fill:64:64/1*ARHBYAt-Z8iITtzLkJxYvg.jpeg)





](https://medium.com/@mbusinesssolutions?source=post_page---byline--cf786c28a5bf---------------------------------------)

[M Business Solutions](https://medium.com/@mbusinesssolutions?source=post_page---byline--cf786c28a5bf---------------------------------------)

Follow

4 min read

¬∑

Nov 27, 2024

Listen

Share

More

![](https://miro.medium.com/v2/resize:fit:875/0*VRVaOyS0GQ1Yw3RU)

Angular provides a powerful way to handle HTTP requests and responses through interceptors, which can be implemented using either function-based or dependency injection (DI)-based approaches. In this blog, let‚Äôs explore both options, examine their differences, and help you decide which one is best for your Angular application.

## What Are Angular Interceptors?

Angular interceptors are a type of middleware that allows you to modify or handle HTTP requests or responses. You can use them to add authentication headers, log responses, handle errors globally, or modify requests before they hit your backend server. Interceptors are registered in the Angular dependency injection (DI) system, making them reusable and configurable across your application.

## Function-Based Interceptors

Function-based interceptors are a lightweight approach where the core logic of interception is encapsulated within a function. This function typically takes in the `HttpRequest` and `HttpHandler` objects, performs necessary transformations or processing, and returns an updated or original request. This approach is often used for simpler use cases and has the following characteristics:

-   **Simplicity**: Function-based interceptors are concise and less verbose. You do not need to deal with creating classes or injecting dependencies, which can make this a great option for smaller, one-off use cases.
-   **Less Overhead**: Since function-based interceptors do not involve Angular DI, there is less overhead involved. This can result in slight performance gains, though the difference may not be noticeable in many real-world applications.
-   **Drawbacks**: Lack of flexibility is one major drawback here. Function-based interceptors do not benefit from dependency injection, which means you cannot easily inject services or reuse logic that might require access to shared services.

## Dependency Injection (DI)-Based Interceptors

DI-based interceptors use Angular‚Äôs DI framework to provide services within your interceptor class. This is the more common approach used in Angular applications as it provides greater flexibility and allows the interceptor to leverage other services:

-   **Scalability**: DI-based interceptors are better suited for larger, more complex applications where reusability is important. Since they are registered as providers, DI-based interceptors are ideal when you need to apply cross-cutting logic, such as user authentication or logging, throughout your application.
-   **Service Injection**: Since DI-based interceptors are classes, they can inject services such as `AuthService`, `LoggingService`, or even custom utility classes. This capability makes it possible to add rich, dynamic behaviors to your HTTP pipeline.
-   **Drawbacks**: Compared to function-based interceptors, DI-based interceptors introduce more boilerplate code. You must create an interceptor class and register it as a provider within your module, which can be overkill for simpler scenarios.

## Which One to Choose?

-   **For Simple Use Cases**: If you have a small application or need to perform a specific transformation without needing shared services, a function-based interceptor is the simplest and most effective approach.
-   **For Complex Requirements**: For larger applications where interceptors need to share services, or for scenarios where logic is complex (e.g., adding an authentication token based on some logic), DI-based interceptors are the way to go.

Function-based interceptors are a good fit if you need something quick and don‚Äôt want to add complexity. However, DI-based interceptors give you all the power of Angular‚Äôs DI system, making them far more versatile and suitable for sophisticated applications.

## Example: Creating Function vs DI-Based Interceptor

1.  **Function-Based Interceptor**

import { HttpRequest, HttpHandler, HttpEvent } from '@angular/common/http';  
import { Observable } from 'rxjs';  
  
export function simpleInterceptor(req: HttpRequest<any\>, next: HttpHandler): Observable<HttpEvent<any\>> {  
  const modifiedReq = req.clone({  
    setHeaders: { 'Custom-Header': 'MyHeaderValue' }  
  });  
  return next.handle(modifiedReq);  
}

**2\. DI-Based Interceptor**

import { Injectable } from '@angular/core';  
import { HttpInterceptor, HttpRequest, HttpHandler, HttpEvent } from '@angular/common/http';  
import { Observable } from 'rxjs';  
  
@Injectable()  
export class CustomInterceptor implements HttpInterceptor {  
  constructor(private authService: AuthService) {}  
  
  intercept(req: HttpRequest<any\>, next: HttpHandler): Observable<HttpEvent<any\>> {  
    const token = this.authService.getToken();  
    const modifiedReq = req.clone({  
      setHeaders: { Authorization: \`Bearer ${token}\` }  
    });  
    return next.handle(modifiedReq);  
  }  
}

## Conclusion

Choosing between function-based and DI-based interceptors depends on your application‚Äôs complexity and the level of flexibility you need. Function-based interceptors are simple, with less boilerplate, making them great for straightforward needs. DI-based interceptors are more robust and fit well when scaling your application with reusable, service-oriented logic.

By understanding the strengths and weaknesses of each approach, you can make an informed decision about which fits best for your Angular app‚Äôs requirements.

Blog inspiration: Leela web dev

## If you found this blog helpful, please give it a clap üëè and follow üîî for more insights and updates! Your support keeps the knowledge flowing!

# In Plain English üöÄ

_Thank you for being a part of the_ [**_In Plain English_**](https://plainenglish.io/) _community! Before you go:_

-   Be sure to **clap** and **follow** the writer Ô∏èüëè**Ô∏èÔ∏è**
-   Follow us: [**X**](https://x.com/inPlainEngHQ) | [**LinkedIn**](https://www.linkedin.com/company/inplainenglish/) | [**YouTube**](https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw) | [**Discord**](https://discord.gg/in-plain-english-709094664682340443) | [**Newsletter**](https://newsletter.plainenglish.io/) | [**Podcast**](https://open.spotify.com/show/7qxylRWKhvZwMz2WuEoua0)
-   [**Create a free AI-powered blog on Differ.**](https://differ.blog/)
-   More content at [**PlainEnglish.io**](https://plainenglish.io/)

## Embedded Content