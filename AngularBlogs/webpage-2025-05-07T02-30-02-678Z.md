# üî• JavaScript Array Immutable Methods You Didn‚Äôt Know | by Vitalii Shevchuk | ITNEXT

Member-only story

# üî• **JavaScript Array Immutable Methods You Didn‚Äôt Know**

[

![Vitalii Shevchuk](https://miro.medium.com/v2/resize:fill:64:64/1*ZhQCLO96ZHv-eNd7zPZ7_w.jpeg)





](https://easy-web.medium.com/?source=post_page---byline--f38353a1b599---------------------------------------)

[Vitalii Shevchuk](https://easy-web.medium.com/?source=post_page---byline--f38353a1b599---------------------------------------)

Follow

3 min read

¬∑

Feb 19, 2024

120

2

Listen

Share

More

![](https://miro.medium.com/v2/resize:fit:875/1*E5j5XB4tldQURCUPFRBM0w.png)

[

## Best Practices of Design Patterns in React: Explore the Power of Design Patterns to Build Better‚Ä¶

### Amazon.com: Best Practices of Design Patterns in React: Explore the Power of Design Patterns to Build Better React‚Ä¶

a.co



](https://a.co/d/9KkNc9S?source=post_page-----f38353a1b599---------------------------------------)

JavaScript has long embraced the concept of functional programming, and the emphasis on immutability is growing stronger. Immutability, in a nutshell, refers to the practice of not changing the contents of an object (like an array) after it has been created. This offers numerous advantages:

-   **Predictability:** Immutable data reduces unexpected side effects and makes your code easier to reason about.
-   **Error Reduction:** Modifying data indirectly lessens the chances of introducing bugs or unintended state changes.
-   **Concurrent Code:** Immutability unlocks new potential for building thread-safe, concurrent applications.

Traditionally, to modify arrays in JavaScript without affecting the original, you often create copies using the spread operator (`‚Ä¶`), `slice()`, or other library functions. These approaches, while valid, might introduce performance considerations, especially for larger arrays. Recent JavaScript specifications (ECMAScript 2023) have introduced exciting new array methods designed to make working with arrays in an immutable way easier and more performant:

# `Array.prototype.with()`

The `with()` method lets you perform a non-destructive update on an array. It creates a new array where a specific element has been replaced with a new value. Let's examine some use cases:

const numbers = \[1, 2, 3, 4\];  
  
// Change the value at index 1 to 10  
const updatedNumbers = numbers.with(1, 10);   
  
console.log(numbers);        // Output: \[1, 2, 3, 4\] (original remains unchanged)  
console.log(updatedNumbers); // Output: \[1, 10, 3, 4\]

# **Using** `with()` **in Objects**

You can effectively employ `with()` to update properties within objects stored in an array:

const people = \[  
    { name: "Alice", age: 25 },  
    { name: "Bob", age: 30 }  
\];  
  
// Update the age of the person at index 0  
const updatedPeople = people.with(0, { name: "Alice", age: 26 });  
  
console.log(people);         // Original remains unchanged  
console.log(updatedPeople);  // Alice's age is updated

# **The Other New Methods**

-   `Array.prototype.toReversed()`**:**

As the name suggests, this method creates a new reversed copy of the original array.

const numbers = \[1, 2, 3\];  
const reversedNumbers = numbers.toReversed(); // \[3, 2, 1\]

-   `Array.prototype.toSorted()`**:**

Returns a new, sorted array. The default sorting is based on Unicode code points, and an optional compare function can be provided for customization.

const words = \["banana", "apple", "cherry"\];  
const sortedWords = words.toSorted(); // \["apple", "banana", "cherry"\]

-   `Array.prototype.toSpliced()`**:**

A versatile method for modifying arrays ‚Äì add items, remove them, or do both at once. Its unique feature is that it also returns an array containing the elements removed during the splice operation.

const numbers = \[1, 2, 3, 4\];  
const \[removed, updatedNumbers\] = numbers.toSpliced(1, 2, "A", "B");   
// removed: \[2, 3\]  
// updatedNumbers: \[1, "A", "B", 4\]

# **Browser Support**

Since these methods are relatively recent, not all browsers might offer full support. It‚Äôs wise to consult resources like Can I Use ([https://caniuse.com/](https://caniuse.com/)) for the latest compatibility details. Here‚Äôs a general picture:

-   `with()`**:** Supported in most modern browsers (Chrome, Edge, Firefox, Safari)
-   `toReversed()`**,** `toSorted()`**,** `toSpliced()`**:** Similar support levels as `with()`.

# **Polyfills to the Rescue**

For scenarios where you need to extend support to older browsers, polyfills provide a way to ‚Äúfill in‚Äù the missing functionality. The core-js library ([https://github.com/zloirock/core-js](https://github.com/zloirock/core-js)) is a well-known provider of polyfills for many standard JavaScript features, including the new array methods.

# **The Power of Immutability**

Adopting these new immutable array methods in JavaScript brings valuable benefits to your code, making it more predictable, easier to debug, and potentially enhancing performance, unlocking doors to efficient concurrent programming patterns.

# Learn More

[

## üî• A Brief History of Web 3

### The origins of Web 3 can be traced back to around 2014 when a few visionaries started conceptualizing a new iteration‚Ä¶

levelup.gitconnected.com



](https://levelup.gitconnected.com/a-brief-history-of-web-3-b5798b30fd59?source=post_page-----f38353a1b599---------------------------------------)

[

## ‚öõÔ∏è Top 7 Reasons: Why You Should Use React over Preact

### React and Preact are both popular JavaScript libraries for building user interfaces. They share a lot of similarities‚Ä¶

itnext.io



](/Ô∏è-top-7-reasons-why-you-should-use-react-over-preact-6f9dd5ba5b42?source=post_page-----f38353a1b599---------------------------------------)

[

## üîÑ Using Partial Prerendering to Boost Performance and UX in Next.js 14

### One of the key features of Next.js is pre-rendering, which means generating HTML pages at build time or on-demand‚Ä¶

itnext.io



](/using-partial-prerendering-to-boost-performance-and-ux-in-next-js-14-ef6dae7566eb?source=post_page-----f38353a1b599---------------------------------------)

## Embedded Content