# @angular/core: Enhancing Angular Performance with @defer | by M Business Solutions | JavaScript in Plain English

# @angular/core: Enhancing Angular Performance with `@defer`

## Optimize your Angular applications by deferring non-critical content loading using the `@defer` directive.

[

![M Business Solutions](https://miro.medium.com/v2/resize:fill:64:64/1*ARHBYAt-Z8iITtzLkJxYvg.jpeg)





](https://medium.com/@mbusinesssolutions?source=post_page---byline--c74fabe6b53d---------------------------------------)

[M Business Solutions](https://medium.com/@mbusinesssolutions?source=post_page---byline--c74fabe6b53d---------------------------------------)

Follow

3 min read

¬∑

Dec 3, 2024

4

Listen

Share

More

![](https://miro.medium.com/v2/resize:fit:875/0*KnMiOlXMkDS6REEL)

In modern web development, delivering a swift and responsive user experience is paramount. Angular‚Äôs `@defer` directive offers a powerful mechanism to enhance performance by deferring the loading of non-essential components until they're truly needed.

# Understanding `@defer`

The `@defer` directive allows developers to specify portions of the template that should be loaded lazily. This means that certain components or content are fetched and rendered only when specific conditions or triggers are met, reducing the initial load time and improving overall application performance.

# Basic Syntax

@defer (on trigger) {  
  <!-- Deferred content here -->  
}

Within the `@defer` block, you can define optional sections like `@placeholder`, `@loading`, and `@error` to manage the user experience during different loading states.

# Triggers for Deferred Loading

Angular provides several triggers to control when deferred content should load:

-   `**on idle**`: Activates when the browser is idle. This is the default behavior.
-   `**on viewport**`: Loads content when it enters the viewport.
-   `**on interaction**`: Initiates loading upon user interaction, such as clicks or key presses.
-   `**on hover**`: Begins loading when the user hovers over a specified element.
-   `**on immediate**`: Loads content immediately after non-deferred content has rendered.
-   `**on timer(duration)**`: Triggers loading after a specified time duration.

Multiple triggers can be combined using a semicolon (`;`), and they are evaluated as OR conditions.

# Enhancing User Experience with `@placeholder`, `@loading`, and `@error`

To provide feedback during the loading process, Angular allows the use of optional blocks within the `@defer` directive:

-   `**@placeholder**`: Displays content before the deferred loading begins. It accepts an optional `minimum` parameter to specify the minimum display time, preventing flickering if the deferred content loads quickly.
-   `**@loading**`: Shows content while the deferred dependencies are loading. It accepts optional `minimum` and `after` parameters to control display timing.
-   `**@error**`: Renders content if the deferred loading fails, allowing for graceful error handling.

For example:

@defer (on viewport) {  
  <large-component />  
}  
@placeholder (minimum 500ms) {  
  <p\>Loading...</p\>  
}  
@loading (after 100ms; minimum 1s) {  
  <p\>Still loading, please wait.</p\>  
}  
@error {  
  <p\>Failed to load content.</p\>  
}

In this setup, the `@placeholder` content appears first, followed by the `@loading` content if loading takes longer than specified, and the `@error` content if loading fails.

# Prefetching Deferred Content

To further optimize performance, Angular‚Äôs `@defer` directive supports prefetching. This feature allows the application to load the JavaScript associated with the deferred block before it's displayed, reducing wait times when the content is eventually needed.

Prefetching can be configured using triggers similar to those that control rendering. For instance:

@defer (on interaction; prefetch on idle) {  
  <large-component />  
}

In this example, the deferred content is set to load upon user interaction, but its resources are prefetched when the browser becomes idle, ensuring quicker availability.

# Conclusion

The `@defer` directive in Angular provides a robust solution for enhancing application performance by deferring the loading of non-critical content. By leveraging various triggers, placeholders, loading indicators, error handlers, and prefetching capabilities, developers can create responsive and efficient applications that deliver a superior user experience.

For more detailed information, refer to the official Angular documentation on `[@defer](https://angular.dev/api/core/@defer)`.

**Follow and Clap**

If you enjoyed this guide and want to learn more about JavaScript array methods, make sure to follow me on Medium and give this post a clap! Stay tuned for more tips and tricks to enhance your JavaScript development skills.

# In Plain English üöÄ

_Thank you for being a part of the_ [**_In Plain English_**](https://plainenglish.io/) _community! Before you go:_

-   Be sure to **clap** and **follow** the writer Ô∏èüëè**Ô∏èÔ∏è**
-   Follow us: [**X**](https://x.com/inPlainEngHQ) | [**LinkedIn**](https://www.linkedin.com/company/inplainenglish/) | [**YouTube**](https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw) | [**Discord**](https://discord.gg/in-plain-english-709094664682340443) | [**Newsletter**](https://newsletter.plainenglish.io/) | [**Podcast**](https://open.spotify.com/show/7qxylRWKhvZwMz2WuEoua0)
-   [**Create a free AI-powered blog on Differ.**](https://differ.blog/)
-   More content at [**PlainEnglish.io**](https://plainenglish.io/)

## Embedded Content