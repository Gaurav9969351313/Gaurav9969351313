# Cache It Right: Top Frontend Interview Questions on HTTP Caching — Part 1 | by Frontend Jirachi | Bootcamp | Medium

Member-only story

# Cache It Right: Top Frontend Interview Questions on HTTP Caching — Part 1

[

![Frontend Jirachi](https://miro.medium.com/v2/resize:fill:64:64/1*F8RZPdh418ZJdejeON5idQ.png)





](/@FrontendJirachi?source=post_page---byline--d852c3b75f90---------------------------------------)

[Frontend Jirachi](/@FrontendJirachi?source=post_page---byline--d852c3b75f90---------------------------------------)

Follow

6 min read

·

Apr 20, 2023

116

Listen

Share

More

![](https://miro.medium.com/v2/resize:fit:875/1*YoIdxO7_hW3XqtsqxrO2VQ.jpeg)
Photo by Brett Jordan on Unsplash

## **Basic concepts of caching**

Caching is the process of storing frequently used data or resources in a temporary storage location, such as memory or disk, to accelerate their retrieval in the future. Caching in web applications can involve various types of data or resources, such as HTML pages, CSS stylesheets, JavaScript files, images, and API responses.

## **Benefits of caching in web applications**

By serving cached data instead of fetching or computing the same data repeatedly from the original source, caching can significantly reduce the response time and improve the overall performance of web applications. This results in:

-   **Improved Performance, faster page load times lead to a better user experience**
-   **Reduced Server Load, lower bandwidth usage, cost savings & enhanced scalability**

## Common http response status code for cached resources

1.  **200 OK**

With an empty cache, or without a cache, the requested resource is sent back with a status of `[200](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/200)` `OK`

**2\. 200 OK (from memory cache)**

![](https://miro.medium.com/v2/resize:fit:718/1*XvsUKzTF1dRT-VwRafYgEw.png)

The requested resource has already been cached into memory and is still fresh, thus it is returned from memory. Usually when you close the browser and reopen the same page, you won’t see this again.

**3\. 200 OK (from disk cache)**

![](https://miro.medium.com/v2/resize:fit:875/1*BXCZSndiVWEaZe0Pnf464g.png)

The requested resource has already been cached into disk at some point and is still fresh, thus it is returned from disk. Usually when you close the browser and reopen the same page, you will see this again.

**4\. 304 Not Modified**

> The HTTP `304 Not Modified` client redirection response code indicates that there is no need to retransmit the requested resources. It is an **implicit redirection to a cached resource**. This happens:
> 
> 1\. When the request method is a [safe](https://developer.mozilla.org/en-US/docs/Glossary/Safe/HTTP) method, such as `[GET](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/GET)` or `[HEAD](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/HEAD)` **OR**
> 
> 2\. When the request is [conditional](https://developer.mozilla.org/en-US/docs/Web/HTTP/Conditional_requests) and uses an `[If-None-Match](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-None-Match)` or an `[If-Modified-Since](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Modified-Since)` header.

## Some commonly asked http headers for caching

1.  [**Expires**](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Expires)

The `Expires` HTTP header contains the date/time after which the response is considered expired.

Invalid expiration dates with value 0 represent a date in the past and mean that the resource is already expired.

> Note: If there is a `[Cache-Control](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control)` header with the `max-age` or `s-maxage` directive in the response, the `Expires` header is ignored.

`[_Cache-Control_](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control)` is a http1.1 header，`Expires` is a http1.0 header

**2\. Cache Control Headers**

The `**Cache-Control**` general-header field is used to specify directives for caching mechanisms in both requests and responses. Caching directives are _unidirectional_. Below are the most commonly asked directives. The full list can be found [here](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control).

-   **no-store**

`no-store` means that any caches of any kind (private or shared) should not store this response.

-   **no-cache**

`no-cache` doesn’t mean “don’t cache”, it means it must revalidate with the server before using the cached resource.

-   **max-age=<seconds>**

`max-age` Specifies the maximum amount of time a resource will be considered fresh. This directive is relative to the time of the request whereas `Expires`, specifies the expiration in GMT.

-   **must-revalidate**

`must-revalidate` doesn't mean "must revalidate", it means the local resource can be used if it's younger than the provided `max-age`, otherwise it must revalidate.

3\. **Pragma**

The `**Pragma**` HTTP/1.0 general header is used for backwards compatibility with HTTP/1.0 caches where the `Cache-Control` HTTP/1.1 header is not yet present. It includes only one directive `no-cache`.

## Two pairs: Last-Modified/If-Modified-Since & Etag/If-None-Match

Last-Modified/If-Modified-Since and Etag/If-None-Match are two pairs. You will usually see one pair or the other.

1.  **Last-Modifed/If-Modified-Since**

[**Last-Modified**](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Last-Modified)

The `Last-Modified` response HTTP header contains a date and time when the origin server believes the resource was last modified. It is used as a validator to determine if the resource is the same as the previously stored one. Less accurate than an `[ETag](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag)` header, it is a fallback mechanism. Conditional requests containing `[If-Modified-Since](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Modified-Since)` or `[If-Unmodified-Since](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Unmodified-Since)` headers make use of this field.

It is used like this:

Last\-Modified: <day\-name\>, <day\> <month\> <year\> <hour\>:<minute\>:<second\> GMT

Last-Modified: Wed, 21 Oct 2015 07:28:00 GMT

[**If-Modified-Since**](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Modified-Since)

The `If-Modified-Since` request HTTP header makes the request conditional: the server sends back the requested resource, with a `[200](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/200)` status, only if it has been last modified after the given date. If the resource has not been modified since, the response is a `[304](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/304)` without any body; the `[Last-Modified](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Last-Modified)` response header of a previous request contains the date of last modification. Unlike `[If-Unmodified-Since](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Unmodified-Since)`, `If-Modified-Since` can only be used with a `[GET](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/GET)` or `[HEAD](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/HEAD)`.

It is used like this:

If-Modified-Since: <day-name\>, <day\> <month\> <year\> <hour\>:<minute\>:<second\> GMT

If-Modified-Since: Wed, 21 Oct 2015 07:28:00 GMT

**2\. Etag/If-None-Match**

[**Etag**](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag)

The `ETag` (or entity tag) HTTP1.1 response header is an identifier for a specific version of a resource. It lets caches be more efficient and save bandwidth, as a web server does not need to resend a full response if the content was not changed. Additionally, etags help to prevent simultaneous updates of a resource from overwriting each other (["mid-air collisions"](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag#avoiding_mid-air_collisions)).

If the resource at a given URL changes, a new `Etag` value _must_ be generated. A comparison of them can determine whether two representations of a resource are the same.

It is used like this:

ETag: W/"<etag\_value>"  
ETag: "<etag\_value>"

ETag: "33a64df551425fcc55e4d42a148795d9f25f89d4"

**If-None-Match**

The `If-None-Match` HTTP request header makes the request conditional. For `[GET](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/GET)` and `[HEAD](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/HEAD)` methods, the server will return the requested resource, with a `[200](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/200)` status, only if it doesn't have an `[ETag](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag)` matching the given ones. For other methods, the request will be processed only if the eventually existing resource's `[ETag](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag)` doesn't match any of the values listed.

When the condition fails for `[GET](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/GET)` and `[HEAD](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/HEAD)` methods, then the server must return HTTP status code 304 (Not Modified). For methods that apply server-side changes, the status code 412 (Precondition Failed) is used. Note that the server generating a 304 response MUST generate any of the following header fields that would have been sent in a 200 (OK) response to the same request: Cache-Control, Content-Location, Date, ETag, Expires, and Vary.

The comparison with the stored `[ETag](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag)` uses the _weak comparison algorithm_, meaning two files are considered identical if the content is equivalent — they don't have to be identical byte by byte. For example, two pages that differ by their creation date in the footer would still be considered identical.

> NOTE: Last-Modifed/If-Modified-Since track down to seconds，Etag could be more accurate than seconds.

## When both ETag & Last-Modified, which one should be used?

According to [RFC2616](https://www.ietf.org/rfc/rfc2616.html#section-13.3.4), An HTTP 1.1 Client MUST use the ETag in any cache-conditional requests, and if both an ETag and Last Modified are present, it SHOULD use both. The ETag header is considered a strong validator (see section 13.3.3), unless explicitly declared weak by the server, whereas the Last Modified header is considered weak unless at least a minute difference exists between it and the Date header. Note, however that the Server is not required to send either (but it SHOULD, if it can).

Note that the Client does not check the headers to see if they have changed; it just blindly uses them in the next conditional request; it is up to the Server to evaluate whether to send the requested content or a 304 Not Modified response. If the Server only sends one, then the Client will use that one alone (although, only strong validators are useful for a Range request). Of course, it is also at the discretion of intermediate caches (unless they have been prevented from caching via Cache Control directives) and the Server as to how they will act upon the headers; the RFC states that they MUST NOT return a 304 Not Modified if the validators are inconsisent, but since the header values are generated by the server, it has quite a bit of leeway.

In part 2, we will evaluate some common cache settings for different resource types & scenarios.

## **Ref**

[

## HTTP caching - HTTP | MDN

### The HTTP cache stores a response associated with a request and reuses the stored response for subsequent requests…

developer.mozilla.org



](https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching?source=post_page-----d852c3b75f90---------------------------------------#overview)

[

## What takes precedence: the ETag or Last-Modified HTTP header?

### According to RFC 2616 - section 13.3.4, an HTTP 1.1 Client MUST use the ETag in any cache-conditional requests, and if…

stackoverflow.com



](https://stackoverflow.com/questions/824152/what-takes-precedence-the-etag-or-last-modified-http-header?source=post_page-----d852c3b75f90---------------------------------------)

[

## HTTP conditional requests - HTTP | MDN

### HTTP has a concept of conditional requests, where the result, and even the success of a request, can be changed by…

developer.mozilla.org



](https://developer.mozilla.org/en-US/docs/Web/HTTP/Conditional_requests?source=post_page-----d852c3b75f90---------------------------------------)

[https://www.ietf.org/rfc/rfc2616.html#section-13.3.4](https://www.ietf.org/rfc/rfc2616.html#section-13.3.4)

## Embedded Content