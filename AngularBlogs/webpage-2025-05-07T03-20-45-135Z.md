# 10 Lesser-Known Utility Functions for Senior Developers | by Atit Patel | JavaScript in Plain English

Member-only story

# 10 Lesser-Known Utility Functions for Senior Developers

[

![Atit Patel](https://miro.medium.com/v2/da:true/resize:fill:64:64/0*SV8rK_8pzbIyQohY)





](https://medium.com/@patel_ap?source=post_page---byline--231f343d26b2---------------------------------------)

[Atit Patel](https://medium.com/@patel_ap?source=post_page---byline--231f343d26b2---------------------------------------)

Follow

7 min read

·

Jun 12, 2023

72

Listen

Share

More

Part 2

![](https://miro.medium.com/v2/resize:fit:875/0*Ao2LDaHCWhRo8NL0)
Photo by Dan Cristian Pădureț on Unsplash

As a senior developer, I have found it is hard to prepare for the live coding interviews and while searching on Google or ChatGPT not able to find the comprehensive list which covers every utility function in JavaScript so here I am creating the utility functions list which can help junior to senior developers.

# 11\. Find Number of Occurrences of each Character From Given String in Array

**1\. We can add reduce method which we can return object after iterations**

let s = 'atit patel';  
  
let test5 = \[...s\].reduce((a, e) => { a\[e\] = a\[e\] ? a\[e\] + 1 : 1; return a }, {});  
  
console.log(test5); //{a: 2,e: 1,i: 1,l: 1,p: 1,t: 3}

**2\. It is the same as method 6 with having OR operator**

let test6 = \[...s\].reduce((res, char) => (res\[char\] = (res\[char\] || 0) + 1, res), {})  
  
console.log(test6);//{a: 2,e: 1,i: 1,l: 1,p: 1,t: 3}

You can play with the StackBlitz here.

[https://stackblitz.com/edit/numberofoccurance-string](https://stackblitz.com/edit/numberofoccurance-string)

# 12\. Rename Object Properties in Array of Objects

**1\. Using Map:** this method **creates a new array** populated with the results of calling a provided function on every element in the calling array.

let countries = \[{ id: 1, name: "india" },{ id: 2, name: "canada" },{ id: 3, name: "america" }\];  
  
const transformed = countries.map(({ id, name }) => ({  
label: id,value: name}));  
  
console.log("1", JSON.stringify(transformed));\[{"label":1,"value":"india"},{"label":2,"value":"canada"},{"label":3,"value":"america"}\]

**2\. Using a map with arguments**

const transformed2 = countries.map(({ id: label, name: value }) => ({label,value}));  
console.log("2", JSON.stringify(transformed2));  
  
\[{"label":1,"value":"india"},{"label":2,"value":"canada"},{"label":3,"value":"america"}\]

**3\. Using lodash:** `_.mapKeys`method creates an object with the same values as `object` and keys generated by running each own enumerable string keyed property of `object` thru `iteratee`.

const test1= \_.mapKeys({ a: 1, b: 2 }, function(value, key) {  
return key + value;  
});  
  
console.log("3",test1);  
//{a1: 1, b2: 2}

What if we want to rename Object keys? Let’s check out the solution for that.

**4\. Using lodash for objects for values**

var users = {  
'atit':    { 'user': 'atit',    'age': 40 },  
'mahesh': { 'user': 'mahesh', 'age': 15 }  
};  
  
const test2 = \_.mapValues(users, function(o) { return o.age; });  
  
console.log("4",test2);  
//{atit: 40, mahesh: 15}  
  
//shorthand  
  
const test3 =\_.mapValues(users, 'age');  
  
console.log("5",test3);  
//{atit: 40, mahesh: 15}

**5\. Using Object destructuring:** The **destructuring assignment** syntax is a JavaScript expression that makes it possible to unpack values from arrays, or properties from objects, into distinct variables.

const rename = (({id: a\_b\_c, ...rest}) => ({a\_b\_c, ...rest}))  
  
console.log(rename({id: 1, val: 2}))  
//{a\_b\_c: 1, val: 2}

You can play with the StackBlitz here.

[https://stackblitz.com/edit/rename-object-keys](https://stackblitz.com/edit/rename-object-keys)

# 13\. How to merge two arrays and create a new array?

This can be achieved simply by using the spread operator.

var arr1 = \['a', 'b', 'c'\]  
var arr2 = \['d', 'e'\]  
  
var merged = \[...arr1, ...arr2\]  
  
console.log(merged)

# 14\. A sum of an array of numbers

1.  **reduce** can be used to iterate through the array, adding the current element value to the sum of the previous element values.

console.log(  
  \[1, 2, 3, 4\].reduce((a, b) => a + b, 0)  
)  
console.log(  
  \[\].reduce((a, b) => a + b, 0)  
)//10

**2\. Using Lodash**

array = \[1, 2, 3, 4\];  
sum = \_.sum(array); // sum == 10

> Let’s check some of the complex scenarios which can be helpful in Coding Assessments

# 15\. Compare two arrays of objects, remove duplicates, merge objects based on property

We do get a requirement to compare two different arrays of objects and want to merge both objects if they match specific property values. It can be achieved using the filter method.

The `**filter()**` method **creates a new array** with all elements that pass the test implemented by the provided function. (source: [MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter))

_Let’s create test data._

let array1 = \[{ id: "50", active: "a", value: 10 },{ id: "51", active: "a", value: 11 }\];  
let array2 = \[{ id: "53", active: "a", value: 10 },{ id: "51", active: "a", value: 11 },{ id: "52", active: "a", value: 13 }\];

_Let’s create functions._

let res = array2.filter(val =>  
    array1.some(({  
        value  
    }) => (val.value as any) === (value as any))  
);  
  
console.log("1", JSON.stringify(res));  
//\[{"id":"53","active":"a","value":10},{"id":"51","active":"a","value":11}\]

# 16\. Compare two arrays of objects, merge and update values (assuming array 3,4 shares same ID)

We do get requirements sometimes to merge the two different with new property values. We can create a new set of arrays of objects using the map and we can use the find method to match the specific property before updating the new value.

The `**map()**` method **creates a new array** populated with the results of calling a provided function on every element in the calling array.

The `find()` method returns the value of the first element in the provided array that satisfies the provided testing function. If no values satisfy the testing function, `[undefined](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined)` are returned. (source: [MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/))

_Let’s create the test data._

let array3 = \[{ id: "50", active: "a", value: 12 },{ id: "51", active: "a", value: 15 }\];  
  
let array4 = \[{ id: "50", active: "a", value: 10 },{ id: "51", active: "a", value: 11 },{ id: "52", active: "a", value: 13 }\];

_Let’s create functions._

let arr = \[\];  
array3.map(id =>  
    arr.push({  
        id: id.id,  
        newValue: array4.find(o => o.id === id.id).value + 2  
    })  
);  
console.log("2", JSON.stringify(arr));  
//\[{"id":"50","newValue":12},{"id":"51","newValue":13}\]

# 17\. Compare arrays of objects and find unique objects

If we want to compare two arrays of objects and check which are the unique objects from them, we can use a filter to achieve these functions.

_Let’s create test data._

const array5 = \[{ id: "50", active: "a", value: 12 },{ id: "51", active: "a", value: 15 }\];  
  
const array6 = \[{ id: "50", active: "a", value: 12 },{ id: "51", active: "a", value: 15 },{ id: "52", active: "a", value: 13 }\];

_Let’s create functions_

const ids = array5.map(e => e.id);  
let filtered = array6.filter(e => ids.includes(e.id));  
console.log("3", JSON.stringify(filtered));  
//\[{"id":"50","active":"a","value":12},{"id":"51","active":"a","value":15}\]

# 18\. Compare and update property based on matched values

When we want to compare two arrays of objects and update the specific property based on the matched values we can use these functions.

_Let’s create test data_

const array7 = \[{ id: "50", active: "a", value: 12 },{ id: "51", active: "a", value: 15 }\];  
  
const array8 = \[{ id: "50", active: "a", value: 12 }\];

_Let’s create functions_

const idSet = new Set(array8.map(o => o.id));  
const res1 = array7.map(o => ({ ...o, value: idSet.has(o.id) ? "0" : o.value }));  
  
console.log("4", JSON.stringify(res1));  
//\[{"id":"50","active":"a","value":"0"},{"id":"51","active":"a","value":15}\]

# 19\. Compare two arrays objects and get the differences

When we want to compare two different arrays of objects and get are differences between them we can use these functions.

_Let’s create test data_

let a = \[  
{ id: "50", active: "a", value: 10 },{ id: "51", active: "a", value: 11 }\];

let b = \[{ id: "50", active: "a", value: 10 },{ id: "51", active: "a", value: 11 },{ id: "52", active: "a", value: 13 }\];

_Let’s create functions_

let valuesArray1 = a.reduce(function(a, c) {  
    a\[c.value\] = c.value;  
    return a;  
}, {});  
let valuesArray2 = b.reduce(function(a, c) {  
    a\[c.value\] = c.value;  
    return a;  
}, {});  
var result = a  
    .filter(function(c) {  
        return !valuesArray2\[c.value\];  
    })  
    .concat(  
        b.filter(function(c) {  
            return !valuesArray1\[c.value\];  
        })  
    );  
console.log("5", result);  
//\[{"id":"52","active":"a","value":13}\]

//shorthand

let ab = b.filter(o => !a.find(o2 => o.id === o2.id));  
console.log("6", ab);

# 20\. Compare two arrays of objects merge and remove duplicates

If we get requirements to compare two arrays of objects and remove the duplicates from them and merge both the arrays we can use this method.

_Let’s create test data_

let arr1 = \[{ id: "50", active: "a", value: 10 },{ id: "51", active: "a", value: 11 }\];  
  
let arr2 = \[{ id: "50", active: "a", value: 10 },{ id: "51", active: "a", value: 11 },{ id: "52", active: "a", value: 13 }\];

_Let’s create functions_

const arr1IDs = new Set(arr1.map(({ id }) => id));  
const combined = \[...arr1, ...arr2.filter(({ id }) => !arr1IDs.has(id))\];  
  
console.log(JSON.stringify(combined));  
//\[{"id":"50","active":"a","value":10},{"id":"51","active":"a","value":11},{"id":"52","active":"a","value":13}\]

-   **Using lodash**

Lodash supports `_differenceBy` and `_differenceWith` methods to find the difference between two arrays.

let lodashtest1 = \[{ id: "50" }, { id: "51" }\];  
let lodashtest2 = \[{ id: "50" }, { id: "51" }, { id: "52" }\];  
let lodashresult = \_.differenceBy(lodashtest2, lodashtest1, "id");  
  
console.log("7", JSON.stringify(lodashresult));  
//\[{"id":"52"}\]  
  
let dif = \_.differenceWith(lodashtest2, lodashtest1, \_.isEqual);  
  
console.log("8",JSON.stringify(dif));  
//\[{"id":"52"}\]

# 21\. Compare objects and find unique values

When we do work with nested objects sometimes it is difficult to figure out how we can iterate and compare both nested objects and get some unique objects among them. We can use `Object.keys` and `Object.values` methods for the iterations.

_Let’s create test data_

let obj1 \= {val1: "test",stream: { prop1: false, prop2: true }};  
  
let obj2 \= {val1: "test",stream: { prop1: true, prop2: true }};  
  
interface Data {  
  
stream: { \[key: string\]: boolean };  
  
}

_Let’s create functions:_

function objFilter(objA: Data, objB: Data): Data {  
  
let out: Data = { stream: {} };  
  
Object.keys(objA.stream).filter((value, idx) =>  
  
Object.values(objA.stream)\[idx\] === Object.values(objB.stream)\[idx\] ? (out.stream\[value\] = Object.values(objA.stream)\[idx\]): false);  
return out;  
}  
  
console.log(JSON.stringify(objFilter(obj1, obj2))); //prop2  
//{"stream":{"prop2":true}}

If you would like to play with the StackBlitz, you can find it here: [https://stackblitz.com/edit/compare-objects-javascript](https://stackblitz.com/edit/compare-objects-javascript)

# 22\. How to Handle Multiple Service Calls Inside a Loop

**1\. If we don’t want to wait for all the service calls to finish**

let data = \[{ id: 0 }, { id: 1 }, { id: 2 }, { id: 3 }\];

async function getDetails(values) {  
    for (const data of values) {  
        const result = await axios.get(  
            \`serviceURL/${data.id}\`  
        );  
        const newData = result.data;  
        this.updateDetails(newData);  
        console.log(this.response);  
    }  
}

function updateDetails(data) {  
    this.response.push(data);  
}  
  
getDetails(data); //call service to get data

**2\. If we want to wait until all service calls done**

We can use `promise.all` to wait until all promises have been resolved.

The `**Promise.all()**` the method takes an iterable of promises as an input and returns a single `[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)` that resolves to an array of the results of the input promises. (source: [MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function))

let data = \[{ id: 0 }, { id: 1 }, { id: 2 }, { id: 3 }\];

async function getDetails(values) {  
    const dataPromises = values.map(entry => {  
        return axios.get(  
            \`serviceURL/${entry.id}\`  
        );  
    });  
  
const resultData = await Promise.all(dataPromises);  
  
  
resultData.forEach((res: any) => {  
        this.updateDetails(res.data);  
    });  
    console.log(this.response);  
}  
  
function updateDetails(data) {  
    this.response.push(data);  
}  
  
getDetails(data); //call service to get data

_More content at_ [**_PlainEnglish.io_**](https://plainenglish.io/)_._

_Sign up for our_ [**_free weekly newsletter_**](http://newsletter.plainenglish.io/)_. Follow us on_ [**_Twitter_**](https://twitter.com/inPlainEngHQ), [**_LinkedIn_**](https://www.linkedin.com/company/inplainenglish/)_,_ [**_YouTube_**](https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw)_, and_ [**_Discord_**](https://discord.gg/GtDtUAvyhW)**_._**

## Embedded Content